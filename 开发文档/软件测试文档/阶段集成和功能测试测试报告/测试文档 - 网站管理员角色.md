# 测试文档 - 网站管理员相关

[TOC]

## 1. 单元测试

### 1.1 用户界面层单元测试

#### 1.1.1 页面显示与跳转测试
```
   - 酒店列表界面
      - 酒店详情界面
   - 系统管理界面
      - 酒店工作人员管理
         - 添加酒店工作人员模态框
      - 网站营销人员管理
         - 添加酒店工作人员模态框
      - 酒店管理
         - 添加酒店模态框
   - 个人信息管理
      - 个人基本信息管理
         - 修改个人信息模态框
      - 订单管理

   测试结果：通过
```
#### 1.1.2 功能测试

##### 1.1.2.1 向业务层请求查看酒店工作人员列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|首次访问 manageUser 界面|无|浏览器向服务器发起 /getAllBusis POST请求|通过|
|点击‘酒店工作人员管理’选项卡|无|浏览器向服务器发起 /getAllBusis POST请求|通过|
|完成‘添加酒店工作人员’操作|无|浏览器向服务器发起 /getAllBusis POST请求|通过|

##### 1.1.2.2 收集并向业务层请求添加酒店工作人员信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|在添加酒店工作人员模态框点击确定|收集的表单信息|浏览器向服务器发起 /addBusi POST请求|通过|

测试数据：
       - 用户邮箱：staff@qq.com
       - 用户名：staff1
       - 用户密码：123456
       - 用户手机号：12345678919

##### 1.1.2.3 向业务层请求查看网站营销人员列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击‘网站营销人员管理’选项卡|无|浏览器向服务器发起 /getAllStaffs POST请求|通过|
|完成‘添加网站营销人员’操作|无|浏览器向服务器发起 /getAllStaffs POST请求|通过|

##### 1.1.2.4 收集并向业务层请求添加网站营销人员信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|在添加网站营销人员模态框点击确定|收集的表单信息|浏览器向服务器发起 /addStaff POST请求|通过|

测试数据：
       - 用户邮箱：busi@qq.com
       - 用户名：busi1
       - 用户密码：123456
       - 用户手机号：12345678919

##### 1.1.2.5 向业务层请求查看酒店列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击‘酒店管理’选项卡|无|浏览器向服务器发起 /all GET请求|通过|
|完成‘添加酒店’操作|无|浏览器向服务器发起 /all GET请求|通过|

##### 1.1.2.6 收集并向业务层请求添加酒店信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|在添加酒店模态框点击确定|收集的表单信息|浏览器向服务器发起 /addHotel POST请求|通过|

测试数据：
       - 酒店名：添加酒店测试
       - 酒店地址：我家
       - 酒店星级：五星级
       - 手机号：123456
       - 酒店简介：好酒店

##### 1.1.2.7 向业务层请求查看个人信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|首次访问 user/info 界面|用户id|浏览器向服务器发起 /getUserInfo GET请求|通过|
|点击‘我的信息’菜单栏|用户id|浏览器向服务器发起 /getUserInfo GET请求|通过|
|完成‘修改信息’操作|用户id|浏览器向服务器发起 /getUserInfo GET请求|通过|

##### 1.1.2.8 收集并向业务层请求修改个人信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|在添加酒店模态框点击确定|收集的表单信息|浏览器向服务器发起 /userInfo/update POST请求|通过|

测试数据：
       - 用户名：我好帅
       - 手机号：123456
       - 密码：654321

### 1.2 业务逻辑层单元测试

#### 1.2.1 功能测试

##### 1.2.1.1 向业务层提供从数据层获取的酒店工作人员列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /getAllStaffs 请求|无|向数据层请求所有酒店工作人员信息并返回给请求|通过|

##### 1.2.1.2 向数据层请求存储从业务层获取的酒店工作人员信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /addStaff 请求|userFormVO|向数据层请求存储用户信息|通过|

##### 1.2.1.3 向业务层提供从数据层获取的网站营销人员列表
|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /getAllBusis 请求|无|向数据层请求所有网站营销人员信息并返回给请求|通过|

##### 1.2.1.4 向数据层请求存储从业务层获取的网站营销人员信息
|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /addBusi 请求|userFormVO|向数据层请求存储用户信息|通过|

##### 1.2.1.5 向业务层提供从数据层获取的酒店列表
|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /retrieveHotels 请求|无|向数据层请求所有酒店信息并返回给请求|通过|

##### 1.2.1.6 向数据层请求存储从业务层获取的酒店信息
|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /addHotel 请求|HotelVO|向数据层请求存储酒店信息|通过|

##### 1.2.1.7 向业务层提供从数据层获取的个人信息
|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /getUserInfo 请求|id|向数据层请求id对应的用户信息并返回给请求|通过|

##### 1.2.1.8 向数据层请求存储从业务层获取的个人信息
|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 /updateUserInfo 请求|id,password,username,phonenumber|向数据层请求存储用户信息|通过|

### 1.3 数据层单元测试

#### 1.3.1 功能测试

##### 1.3.1.1 向业务层提供酒店工作人员列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|调用 getAllStaffs 方法|无|返回数据库中所有酒店工作人员信息|通过|

##### 1.3.1.2 存储从业务层获取的酒店工作人员信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|收到 addStaff 请求|User|存储用户信息至 User 表|通过|

##### 1.2.1.3 向业务层提供网站营销人员列表

| 触发条件              | 参数 | 预期结果                         | 测试结果 |
| --------------------- | ---- | -------------------------------- | -------- |
| 调用 getAllBusis 方法 | 无   | 返回数据库中所有网站营销人员信息 | 通过     |

##### 1.2.1.4 存储从业务层获取的网站营销人员信息

| 触发条件          | 参数 | 预期结果               | 测试结果 |
| ----------------- | ---- | ---------------------- | -------- |
| 收到 addBusi 请求 | User | 存储用户信息至 User 表 | 通过     |

##### 1.2.1.5 向业务层提供酒店列表

| 触发条件                   | 参数 | 预期结果                 | 测试结果 |
| -------------------------- | ---- | ------------------------ | -------- |
| 调用 selectAllHotel() 方法 | 无   | 返回数据库中所有酒店信息 | 通过     |

##### 1.2.1.6 存储从业务层获取的酒店信息

| 触发条件             | 参数 | 预期结果              | 测试结果 |
| -------------------- | ---- | --------------------- | -------- |
| 收到 insertHotel请求 | 无   | 存储酒店信息至Hotel表 | 通过     |

##### 1.2.1.7 向业务层提供从个人信息

| 触发条件                | 参数 | 预期结果     | 测试结果 |
| ----------------------- | ---- | ------------ | -------- |
| 调用 getAccountById方法 | id   | 返回个人信息 | 通过     |

##### 1.2.1.8 存储从业务层获取的个人信息

| 触发条件                | 参数     | 预期结果             | 测试结果 |
| ----------------------- | -------- | -------------------- | -------- |
| 收到 updateAccount 请求 | 个人信息 | 更新个人信息至User表 | 通过     |

## 2. 集成测试

### 2.1 功能测试

#### 2.1.1 查看酒店工作人员列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|首次访问managerUser界面|无|显示系统存储的酒店工作人员信息|通过|
|点击酒店工作人员管理选项卡|无|显示系统存储的酒店工作人员信息|通过|

#### 2.1.2 收集并向业务层请求添加酒店工作人员信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击添加酒店工作人员按钮并填写表单|酒店工作人员信息|列表中显示新增的工作人员信息|通过|

#### 2.1.3 向业务层请求查看网站营销人员列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击网站营销人员管理选项卡|无|显示系统存储的网站营销人员信息|通过|

#### 2.1.4 收集并向业务层请求添加网站营销人员信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击添加网站营销人员按钮并填写表单|网站营销人员信息|列表中显示新增的营销人员信息|通过|

#### 2.1.5 向业务层请求查看酒店列表

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击酒店管理选项卡|无|显示系统存储的酒店信息|通过|

#### 2.1.6 收集并向业务层请求添加酒店信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击添加酒店按钮并填写表单|酒店信息|列表中显示新增的酒店信息|通过|

#### 2.1.7 向业务层请求查看个人信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击个人信息管理选项卡|无|显示系统存储的个人信息|通过|

#### 2.1.8 收集并向业务层请求修改个人信息

|触发条件|参数|预期结果|测试结果|
|-|-|-|-|
|点击修改个人信息按钮并填写表单|个人信息|显示更改过的个人信息|通过|